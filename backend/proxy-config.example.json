{
  "_comment": "AWS IP Middleware Proxy Configuration",
  "_description": "This file configures external API providers that will be accessed through the AWS IP proxy",
  
  "providers": {
    "_comment": "Each provider represents an external API service",
    
    "cricket-api": {
      "name": "Cricket API Provider",
      "description": "Main cricket matches and fixtures API",
      "baseUrl": "https://marketsarket.qnsports.live",
      "timeout": 10000,
      "retries": 3,
      "cacheTtl": 300,
      "rateLimit": {
        "_comment": "Rate limiting per user/IP",
        "windowMs": 60000,
        "max": 100
      },
      "headers": {
        "_comment": "Default headers sent with every request",
        "User-Agent": "AWS-IP-Proxy/1.0",
        "Accept": "application/json",
        "Cache-Control": "no-cache"
      },
      "endpoints": {
        "_comment": "Endpoint mapping: alias -> actual path",
        "cricketmatches": "/cricketmatches",
        "odds": "/odds",
        "fixtures": "/cricketmatches"
      },
      "transformations": {
        "_comment": "Optional request/response transformations (functions)",
        "request": null,
        "response": null
      }
    },
    
    "casino-api": {
      "name": "Casino Results API Provider",
      "description": "Casino game results and statistics",
      "baseUrl": "https://marketsarket.qnsports.live",
      "timeout": 15000,
      "retries": 2,
      "cacheTtl": 60,
      "rateLimit": {
        "windowMs": 60000,
        "max": 50
      },
      "headers": {
        "User-Agent": "AWS-IP-Proxy/1.0",
        "Accept": "application/json"
      },
      "endpoints": {
        "results": "/casinoresult",
        "casinoresult": "/casinoresult"
      }
    },
    
    "scorecard-api": {
      "name": "Cricket Scorecard API",
      "description": "Detailed cricket match scorecards",
      "baseUrl": "http://172.104.206.227:3000",
      "timeout": 12000,
      "retries": 2,
      "cacheTtl": 60,
      "rateLimit": {
        "windowMs": 60000,
        "max": 75
      },
      "headers": {
        "User-Agent": "AWS-IP-Proxy/1.0",
        "Accept": "application/json"
      },
      "endpoints": {
        "t10score": "/t10score"
      }
    },
    
    "betting-exchange": {
      "name": "Betting Exchange API",
      "description": "Betting market data and odds",
      "baseUrl": "https://data.shamexch.xyz",
      "timeout": 8000,
      "retries": 3,
      "cacheTtl": 30,
      "rateLimit": {
        "windowMs": 60000,
        "max": 150
      },
      "headers": {
        "User-Agent": "AWS-IP-Proxy/1.0",
        "Accept": "application/json"
      },
      "endpoints": {
        "getbm": "/getbm"
      }
    },
    
    "custom-api-example": {
      "_comment": "Example of a custom API provider configuration",
      "name": "Custom API Provider",
      "description": "Example configuration for adding new providers",
      "baseUrl": "https://api.example.com",
      "timeout": 10000,
      "retries": 3,
      "cacheTtl": 120,
      "rateLimit": {
        "windowMs": 60000,
        "max": 100
      },
      "headers": {
        "User-Agent": "AWS-IP-Proxy/1.0",
        "Accept": "application/json",
        "Authorization": "Bearer ${API_TOKEN}",
        "_comment": "Use ${VARIABLE_NAME} for environment variable substitution"
      },
      "endpoints": {
        "data": "/api/v1/data",
        "status": "/api/v1/status"
      },
      "authentication": {
        "_comment": "Optional authentication configuration",
        "type": "bearer",
        "tokenEnvVar": "CUSTOM_API_TOKEN"
      }
    }
  },
  
  "global": {
    "_comment": "Global configuration settings",
    
    "maxCacheSize": 1000,
    "defaultTimeout": 10000,
    "defaultRetries": 3,
    "logLevel": "info",
    "enableMetrics": true,
    "enableHealthChecks": true,
    
    "corsOrigins": [
      "_comment": "Allowed CORS origins",
      "http://localhost:3000",
      "https://your-frontend-domain.com"
    ],
    
    "security": {
      "enableRateLimit": true,
      "enableAuth": true,
      "maxRequestSize": "10mb",
      "allowedMethods": ["GET", "POST", "PUT", "DELETE"],
      "trustedProxies": ["127.0.0.1", "::1"]
    },
    
    "cache": {
      "_comment": "Cache configuration",
      "defaultTtl": 300,
      "maxKeyLength": 250,
      "enableFallback": true,
      "fallbackTtlMultiplier": 5
    },
    
    "monitoring": {
      "_comment": "Monitoring and metrics configuration",
      "enableRequestLogging": true,
      "enableErrorTracking": true,
      "metricsInterval": 60000,
      "healthCheckInterval": 30000
    }
  },
  
  "_configuration_notes": {
    "provider_fields": {
      "name": "Human-readable name for the provider",
      "baseUrl": "Base URL for the API (required)",
      "timeout": "Request timeout in milliseconds (default: 10000)",
      "retries": "Number of retry attempts (default: 3)",
      "cacheTtl": "Cache TTL in seconds (0 = no caching)",
      "rateLimit": "Rate limiting configuration per user/IP",
      "headers": "Default headers sent with requests",
      "endpoints": "Endpoint aliases mapping to actual paths"
    },
    "usage_examples": {
      "basic_request": "POST /proxy/api/cricket-api with body: {\"endpoint\": \"cricketmatches\", \"method\": \"GET\"}",
      "with_params": "POST /proxy/api/cricket-api with body: {\"endpoint\": \"odds\", \"method\": \"GET\", \"queryParams\": {\"eventId\": \"123\"}}",
      "with_body": "POST /proxy/api/custom-api with body: {\"endpoint\": \"data\", \"method\": \"POST\", \"body\": {\"key\": \"value\"}}"
    },
    "environment_variables": {
      "VALID_API_KEYS": "Comma-separated list of valid API keys for authentication",
      "JWT_SECRET": "Secret key for JWT token validation",
      "REDIS_URL": "Redis connection URL for caching",
      "LOG_LEVEL": "Logging level (debug, info, warn, error)"
    }
  }
}